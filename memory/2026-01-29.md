
---

## System Debug Session (3:00 PM) ✅

### Issues Found & Fixed

1. **Old clawdbot in Downloads** — v2026.1.24-0 was lingering, causing version mismatch warnings
   - FIX: Deleted ~/Downloads/clawdbot-2026.1.24/

2. **OAuth refresher wrong PATH** — LaunchAgent missing /opt/homebrew/bin
   - FIX: Updated plist to include correct PATH

3. **Broken clawdbot.mac LaunchAgent** — Pointing to non-existent binary
   - FIX: Removed the broken plist

4. **Massive session file (25MB)** — 5050 lines accumulated over days
   - FIX: Session cleanup/reset

5. **89 orphan session files** — Old sessions cluttering disk
   - FIX: Cleaned up

### Root Cause
- Version mismatch from old download lingering
- LaunchAgent PATH issues from initial setup
- Natural session growth (not a bug, just needs maintenance)

### Prevention
- Delete downloaded clawdbot tarballs after installing
- Periodic session cleanup
- Monitor session size

### Key Clarification
- Session files ≠ Memory files
- Session = conversation transcript (temporary)
- Memory = MEMORY.md + memory/*.md (persistent)
- Resetting session does NOT affect memory


### Prevention Measures Added

1. **Weekly maintenance script** — `~/clawd/scripts/weekly-maintenance.sh`
   - Cleans orphan sessions
   - Removes .deleted files
   - Clears old clawdbot downloads
   - Reports session health
   
2. **Automated cron job** — Runs Sundays 4am
   - ID: e8a43362-3983-459b-8030-2b4cb3747a78
   - Warns if any session exceeds 20MB

### What Caused the Buildup
- Heavy multi-day conversations with lots of tool calls
- Sub-agent spawns creating extra sessions
- Old downloads not cleaned after updates
- Normal accumulation — just needs periodic maintenance

### Lesson
This wasn't a bug, just missing maintenance. Now automated.

---

## Evening Session: Sleep Bug & Config Improvements (5:15 PM)

### Root Cause Found: Mac Mini Was Sleeping!
- **Problem:** Mac mini going to sleep every 15-20 minutes
- **Evidence:** pmset logs showed constant Sleep → DarkWake → Sleep cycles all day
- **Impact:** Tailscale disconnects, AbortErrors (51 today), response delays

### Fixes Applied
1. **Power settings (pmset):**
   - `sleep=0` (was 1 minute!)
   - `displaysleep=0`
   - `autorestart=1` (restart after power failure)
   - `networkoversleep=1` (keep network during sleep)
   - `powernap=0`

2. **Tailscale:**
   - Enabled `TailscaleStartOnLogin=true`
   - Found duplicate VPN profiles ("Tailscale" + "Tailscale 2") - old one needs manual removal in System Settings → VPN

3. **Cleanup:**
   - Cleared 840MB browser cache
   - Cleared 4.5MB error log

### Config Improvements
1. **Added to AGENTS.md:** "Success Criteria, Not Instructions" section
   - Karpathy pattern: define success state, let agent find the path
   - "Tests first" pattern for code tasks
   - Apply to self AND when spawning sub-agents

2. **Enabled memoryFlush in clawdbot.json:**
   ```json
   "compaction": {
     "mode": "safeguard",
     "memoryFlush": {
       "enabled": true,
       "softThresholdTokens": 150000
     }
   }
   ```
   - Auto-saves context before compaction hits
   - Should prevent "mid-sentence drop" issues

### Verified Unchanged
- MEMORY.md (last modified Jan 28)
- No accidental config changes from earlier sessions
# Daily Notes - January 29, 2026

## System Troubleshooting (~1:30pm - 2pm)

Marb reported slow responses and DMs not working. Investigated:

**Findings:**
- Gateway running fine (13ms latency)
- Telegram channel OK
- Group session at 52% context (105k/200k tokens) - large context = slower responses
- Logs showed some network errors and gateway restarts around 2:10pm
- `telegram setMyCommands failed: HttpError: Network request failed`
- Gateway recovered on restart

**Root cause:** Likely combination of:
1. Large context (Opus + 105k tokens = slow)
2. Some network hiccups causing gateway restarts

**Resolution:** Gateway auto-recovered. May need to reset session or switch to Sonnet for snappier responses in group chat.

## M & Crow Lab

- New bot @Crowww1_Bot joined the group (Crow's bot)

# 2026-02-04 — Wednesday

## Major Debugging Session
Long session with Marb fixing system instability. Key outcomes:

### Root Causes Fixed
- Dual-response: config.schema dumping 200KB
- Context bloat: Set 120k cap (was unlimited)
- TTS timeouts: Moved to 6am compile phase
- web_search: Disabled (never had API key)
- Session cleanup: Script + cleaned old 3-6MB transcripts

### Architecture Problems Identified
1. Web search silently failing (no Brave key)
2. Task promises not persisting across sessions
3. Subagent reliability issues (3/4 timed out during XPERIENCE research)
4. Complexity creep — each fix adds more scripts/cron/monitoring

### XPERIENCE Research
Did manually after subagents failed. Brief at `research/xperience/QUICK-BRIEF-2026-02-04.md`
- Storm chaser company going legit
- Thursday pitch meeting
- Lead gen automation opportunity

### Decision Pending
Marb frustrated with debugging loop. Considering:
- Simplify (strip complexity)
- Fix properly (systematic architecture fixes)
- Pause (step back)

### Marb's Mood
Tired of debugging. Wants ROOT fixes, not symptom patches. Wants to use existing tools properly before adding new ones.

## Lessons
- Subagents unreliable for time-sensitive research — do it manually
- Check if tools actually have required credentials before relying on them
- 120k context cap good tradeoff (forces compaction before slowdown)

## 14:00 — XPERIENCE Lead Gen Technical Deep Dive

Marb reviewed the brief, wants Part 6 (automated lead gen) split into its own working doc.

**Key decisions from voice memo:**
- Parts 1-5 (marketing, social, SEO, ads) → keep in master brief
- Aerial roof analysis → **XPERIENCE's project** (they want to build w/ Google Earth)
- Apollo → scrapped (B2B focused, not for homeowners)
- Skip tracing → continue exploring, verify BatchSkipTracing is legit

**Created:** `~/clawd/research/xperience/LEAD-GEN-SYSTEM-SPEC.md`

**Verified Open SGID access:**
- Direct PostgreSQL connection works
- Salt Lake County: **271,560 homes** that are 15+ years old
- Data includes: address, built_yr, market value, sqft
- Owner names NOT in parcel data (skip tracing handles this)

**Skip tracing research:**
- PropStream: $149/mo Pro plan includes FREE skip tracing + DNC flagging (RECOMMENDED for MVP)
- BatchData: $500-2000/mo for API access (better for scale/automation)
- TruePeopleSearch: blocked by captcha, ToS prohibits commercial use (NOT viable)

**Recommendation:** Start with PropStream 7-day trial to validate, then decide on automation path.

## 14:20 — Aerial Roof Analysis Research (Major Discovery!)

Marb asked me to research DIY aerial roof analysis (their competitor supposedly built this).

**JACKPOT: Google Solar API**

Google already solved this problem with their Solar API. The `buildingInsights` endpoint returns:
- **Roof segment stats:** pitch (degrees), azimuth, area per segment
- **Total roof area:** both surface area AND footprint
- **Building dimensions:** bounding box coordinates

**Pricing is insanely cheap:**
- First 10,000 requests/month: FREE
- After free tier: $0.01/request ($10 per 1,000)

**For XPERIENCE:**
- 1,000 roof quotes/month = $0
- 10,000 roof quotes/month = $0 (within free tier)
- 50,000 roof quotes/month = $400/month

Compare to EagleView at $50-100/roof — this is a 1000x cost reduction.

**Created:** `~/clawd/research/xperience/AERIAL-ROOF-ANALYSIS.md`

**Recommendation:** Use Google Solar API. Skip the DIY trigonometry approach. The competitor probably discovered this same API.

## Session Summary (Pre-Compaction)

**XPERIENCE Roofing project — significant progress:**

Created 3 docs:
- `LEAD-GEN-SYSTEM-SPEC.md` — Full technical spec for automated lead gen
- `AERIAL-ROOF-ANALYSIS.md` — Roof estimation research with Google Solar API discovery
- `QUICK-BRIEF-2026-02-04.md` — Marketing strategy brief

**Key findings:**
1. Utah Open SGID verified working (271K target homes in SLC alone)
2. PropStream recommended for skip tracing MVP ($149/mo, free skip traces)
3. **Google Solar API is the answer for roof estimation** — returns pitch, area, segments for $0.01/roof (first 10K free)

Marb reviewing docs, will circle back. Thursday meeting is the deadline.

## ~17:00 — System Simplification (Crow's Pattern)

Adopted Crow's compound review architecture after analyzing his working bot.

**Key changes:**
1. Created `ai-compound` skill at `~/clawd/skills/ai-compound/SKILL.md`
2. Added `compound-review` cron job — runs 10:30pm daily
3. Deleted monitoring scripts: `session-size-monitor.sh`, `cleanup-sessions.sh`
4. Updated AGENTS.md — `memory/context/active.md` is now primary hot state
5. Simplified WAL protocol — file-based memory as source of truth

**Philosophy shift:**
- Sessions are ephemeral (daily resets OK)
- Files are permanent (MEMORY.md, context/active.md, daily notes)
- Compound review extracts learnings before reset
- No elaborate state machines or vector DBs

**Config changes applied:**
- contextTokens: 120000
- web_search: disabled
- pruning ratios: 0.3/0.5

**Deleted broken skills:** exa-plus, apollo-enrichment, google-workspace-mcp, supermemory, last30days-lite, deep-research

**Active cron jobs (11 total):** compound-review added, 8 dead jobs removed.

## Still TODO
- Configure 6am session reset cron
- Test Google Solar API on SLC addresses
- Get XPERIENCE pricing formula
- Build proof-of-concept estimator

---

## 22:30 — Compound Review (First Run!)

First automated compound review. Extracted learnings from last 24 hours.

### Patterns That Worked
- Manual research > subagents for urgent work (3/4 timed out)
- Deep research pays off (Google Solar API = 1000x savings)
- File-based memory more reliable than elaborate state machines
- Simplification over complexity

### Gotchas
- Subagent reliability — don't depend on them for time-sensitive work
- Massive tool outputs (config.schema) can eat context and cause instability
- Silent failures — web_search never had API key
- Complexity creep — each "fix" was adding more scripts

### Key Decisions Captured
- 120k context cap
- Compound review architecture
- PropStream for skip tracing MVP

### Updated Files
- MEMORY.md — Added Feb 2026 lessons (subagents, simplification, context mgmt, Google Solar)
- memory/context/active.md — Reset for tomorrow with open items
- This file — Added compound review notes

**Verdict:** Compound review working. Ready for tomorrow's fresh session
